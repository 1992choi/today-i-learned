# Spring
- Inflearn > 스프링 웹 MVC 완전정복

<br><br><br>

# 정리
### Servlet
- Servlet 이란?
  - 서블릿은 자바 기반의 웹 애플리케이션 개발 초기 단계에서 사용된 기술.
  - 클라이언트의 요청을 처리하고 동적 콘텐츠를 생성하는데 사용되었으며, HTTP 요청과 응답을 처리.
    - 자바 클래스 형태로 HTTP 요청을 처리한다.
  - 서블릿은 서블릿 컨테이너에서 실행된다.
- 특징
  - 자바 중심
    - 자바 기반으로 HTML을 사용하여 화면을 그리는 방식.
  - 클래스 단위로 직접적인 HTTP 요청/응답 처리를 세밀하게 제어할 수 있다는 장점이 있다.
  - HTML과 비즈니스 로직이 하나의 서블릿 클래스 안에 혼재되어 있어서, 코드가 복잡하고 그로인하여 유지보수가 어렵다.

### 모델1 방식 - JSP
- JSP(Java Server Page) 란?
  - HTML 내에 Java 코드를 삽입하여 동적 웹 페이지를 생성하는 기술로서 서블릿의 단점을 보완하기 위해 등장한 서블릿 기반의 스크립트 언어이다.
  - 모든 처리 로직이 하나의 JSP 파일에 존재한다.
- 특징
  - HTML 중심
    - HTML 내에 자바 코드를 사용하여 비즈니스 로직을 처리하는 방식.
  - HTML 내에 Java 코드를 직접 삽입할 수 있어 화면 로직을 작성하는 데 매우 편리하고, JSTL 과 같은 태그 라이브러리를 사용하여 반복, 조건, 포맷 등 다양한 작업을 쉽게 처리할 수 있다.

### 모델2 방식 - MVC
- MVC (Model-View-Controller) 패턴을 따르는 구조로, 서블릿과 JSP를 결합하여 웹 애플리케이션을 개발하는 방식.
- MVC 패턴
  - Model (Java Bean)
    - 비즈니스 로직과 데이터 관리
  - View (JSP)
    - 사용자 인터페이스
  - Controller (Servlet)
    - 사용자 요청을 처리하고 모델과 뷰를 연결
- 특징
  - 화면은 JSP가 담당하고 비즈니스 로직은 Servlet이 담당하는 구조로 진화함으로서, 코드의 분리가 명확하여 유지보수가 용이하고 확장성이 높아졌다.
    - 요청이 들어오면 Servlet에서 비즈니스 로직을 처리하고, 결과만 JSP로 전달하여 JSP에서는 화면만 출력하는 형태.

### 프론트 컨트롤러 패턴
- 프론트 컨트롤러 패턴
  - 웹 애플리케이션이 점점 복잡해지고 유지보수와 확장성을 필요로 하게 되면서 모델2 방식을 개선한 프론트 컨트롤러 패턴이 등장하게 되었다.
  - 프론트 컨트롤러 패턴은 모델2 방식의 단점을 보완하고 서블릿의 요청과 응답을 좀 더 구조적이고 체계적으로 관리하기 위해 탄생한 패턴이다.
- 특징
  - 모든 클라이언트 요청을 무조건 단일 진입점을 거치도록 강제함으로서 요청 처리의 일관성을 유지할 수 있고 중앙에서 관리할 수 있게 된다.
  - 인증, 권한 부여, 로깅, 예외 처리 등의 공통 기능을 프론트 컨트롤러에서 일괄 처리해서 코드 중복을 줄이고, 유지보수를 용이하게 할 수 있다.
  - 공통 기능을 수정할 때 프론트 컨트롤러에서만 변경하면 되므로 수정이 용이하고 필요 시 각 서블릿을 쉽게 추가하고 확장 할 수 있다.

### 서블릿(Servlet)
- 서블릿이란?
  - 서블릿은 Jakarta EE (Enterprise Edition) 플랫폼의 핵심 기술 중 하나로 클라이언트-서버 모델에서 서버 측에서 실행되는 작은 자바 프로그램이다.
  - 주로 HTTP 요청과 응답을 처리하기 위해 사용되며 자바 서블릿 API를 통해 웹 애플리케이션 개발을 쉽게 할 수 있도록 해준다.
- 서블릿 생명 주기(Servlet Lifecycle)
  - 서블릿은 서블릿 컨테이너에 의해 클래스 로드 및 객체 생성이 이루어지며 서블릿의 생명주기는 init, service, destroy 과정을 거친다.
    - init
      - 초기화 작업
      - 서블릿이 생성되고 init 메서드를 통해 초기화 되며 최초 한 번만 호출된다
      - 주로 초기화 파라미터를 읽거나 DB 연결 설정 등 초기 설정 작업을 수행한다
    - service
      - 요청 처리 작업
      - 클라이언트로부터의 모든 요청은 service 메서드를 통해 처리되며 HttpServletRequest 와 HttpServletResponse 객체가 생성되어 전달된다
      - HTTP 메서드(GET, POST 등) 에 따라 doGet, doPost 등의 메서드를 호출한다
    - destroy
      - 종료 작업
      - 서블릿이 서비스에서 제외되면 destroy() 메서드를 통해 종료되고 이후 가비지 컬렉션 및 finalize 과정을 거친다
- 서블릿 로드 및 생성
  - 서블릿 로드란?
    - 서블릿 컨테이너는 서블릿을 처음으로 요청받거나 혹은 애플리케이션이 시작될 때 서블릿을 메모리에 로드한다.
    - 지연로딩과 즉시로딩 두 가지 방식이 있다.
      - 지연 로딩 (Lazy Loading)
        - 첫 번째 클라이언트 요청이 들어올 때 서블릿이 로드되고 서블릿 객체를 생성한다.
      - 즉시 로딩 (Eager Loading)
        - 애플리케이션이 시작될 때 서블릿이 로드되고 객체가 생성된다.
    - 이를 위해 <load-on-startup> 속성을 사용한다.
      - 음수 값 또는 설정하지 않은 경우
        - 서블릿은 지연 로딩된다.
      - 양수 값
        - 즉시 서블릿이 로딩되면 값이 낮을수록 더 높은 우선 순위를 가지며 1이 가장 먼저 로된다.
      - 0 값
        - 애플리케이션 시작 시 서블릿을 로드하지만 양수 값들보다 우선하지 않을 수 있다.