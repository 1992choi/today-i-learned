# 개요
- 인프런의 '코딩으로 학습하는 리팩토링'

### 냄새 1. 이해하기 힘든 이름
- 개요
  - 깔끔한 코드에서 가장 중요한 것 중 하나가 바로 '좋은 이름'이다.
  - 함수, 변수, 클래스, 모듈의 이름 등 모두 어떤 역할을 하는지 어떻게 쓰이는지 직관적이어야 한다.
- 리팩토링
  - 함수 선언 변경하기 (Change Function Declaration)
  - 변수 이름 바꾸기 (Rename Variable)
  - 필드 이름 바꾸기 (Rename Field)

### 냄새 2. 중복 코드
- 개요
  - 중복 코드가 존재하며 이를 변경하려고 할 때, 동일한 모든 곳의 코드를 변경하지 않으면 오류가 발생할 확률이 높아진다.
- 리팩토링
  - 함수 추출하기 (Extract Function)
    - '의도'와 '구현' 분리하기
      - 어떠한 목적(=의도)을 위해 기술되었는지가 없으면 구현을 위한 코드일 가능성이 높다.
      - 이는 가독성을 낮추므로 분리할 필요가 있다.
  - 코드 정리하기 (Slide Statements)
    - 관련있는 코드끼리 묶여있어야 코드를 더 쉽게 이해할 수 있다.
    - 함수에서 사용할 변수를 상단에 미리 정의하기 보다는, 해당 변수를 사용하는 코드 바로 위에 선언.
    - 관련있는 코드끼리 묶은 다음, 함수 추출하기 (Extract Function)를 사용해서 더 깔끔하게 분리.
  - 메서드 올리기 (Pull Up Method)
    - 여러 하위 클래스에 동일한 코드가 있다면, 상위 클래스로 메서드를 올린다.

### 냄새 3. 긴 함수
- 개요
  - 함수가 길면 가독성이 좋지 못할 수 있다.
    - 무조건 짧은 함수가 좋다는 건 아니다. 짧은 함수는 더 많은 문맥 전환을 필요로 한다.
    - 또한 작은 단위의 함수는 더 많은 서브루틴 호출로 인한 오버헤드가 발생할 수 있다. (요즘은 PC 성능이 좋아져 무시할만한 수준)
  - 함수를 작게 나눈 후 '좋은 이름'을 사용한다면, 함수의 이름만 보고 기능을 짐작할 수 있다.
  - 거의 대부분은 '함수 추출하기'로 해결할 수 있다.
- 리팩토링
  - 임시 변수를 질의 함수로 바꾸기 (Replace Temp with Query)
  - 매개변수 객체 만들기 (Introduce Parameter Object)
    - 같은 매개변수들이 여러 메서드에 걸쳐 나타난다면 그 매개변수들을 묶은 자료 구조를 만들 수 있다.
  - 객체 통째로 넘기기 (Preserve Whole Object)
    - 어떤 한 레코드에서 구할 수 있는 여러 값들을 함수에 전달하는 경우, 해당 매개변수를 레코드 하나로 교체할 수 있다.
    - 매개변수 목록을 줄일 수 있다는 장점이 있지만, 의존성이 생길 수도 있다.
  - 조건문 분해하기 (Decompose Conditional)
    - 기술적으로는 '함수 추출하기'와 동일한 리팩토링이지만 의도만 다를 뿐이다.
  - 조건문을 다형성으로 바꾸기 (Replace Conditional with Polymorphism)
    - 여러 타입에 따라 각기 다른 로직으로 처리해야 하는 경우에 다형성을 적용해서 조건문을 보다 명확하게 분리할 수 있다.
  - 반복문 쪼개기 (Split Loop)
    - 하나의 반복문에서 여러 다른 작업을 하는 코드를 쉽게 찾아볼 수 있는데, 이를 쪼개는 작업이다.
      - ex. 하나의 for문 안에서 여러 실행코드가 있다고하면, 동일한 반복문을 쪼개서 관심사 별로 묶는 기법 
      - 성능 문제를 야기할 수 있지만, '리팩토링'은 '성능 최적화'와 별개의 작업이다. 리팩토링을 마친 이후에 성능 최적화 시도할 수 있다.

### 냄새 4. 긴 매개변수 목록
- 개요
  - 매개변수가 많을수록 함수의 역할을 이해하기 어려워진다.
  - 매개변수를 다시 확인할 필요성이 있다.
    - 과연 그 함수는 한가지 일을 하고 있는게 맞는가?
    - 불필요한 매개변수는 없는가?
    - 하나의 레코드로 뭉칠 수 있는 매개변수 목록은 없는가?
- 리팩토링
  - 객체 통째로 넘기기 (Preserve Whole Object)
  - 매개변수 객체 만들기 (Introduce Parameter Object)
  - 여러 함수를 클래스로 묶기 (Combine Functions into Class)
    - 위 3개 방법은 작은 단위에 매개변수가 반복된다면 하나의 틀로 묶어서 전달하는 것을 의미한다.
  - 매개변수를 질의 함수로 바꾸기 (Replace Parameter with Query)
    - 매개 변수 중 isPremium 이라는 값이 있으며, 이를 통해서 내부적으로 계산식이 분기된다고 가정할 때, 매개 변수를 넘기지 않고 해당 메서드 내에서 특정 함수를 호출하여 구할 수 있다면 매개변수 삭제가 가능하다.
  - 플래그 인수 제거하기 (Remove Flag Argument)
    - 매개변수가 플래그로 사용된다면, 하나의 메서드가 다양한 일을 하고 있을 수 있다.
    - 메서드를 적절히 분리할 수 있는지 파악한다.

  
